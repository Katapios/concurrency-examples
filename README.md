# Ветка "phaser"
## "Разбиение выполнения кода на стадии(фазы) посредством класса Phaser"

### Что реалезовано в данной ветке:
Класс Phaser, предназначен для синхронизации потоков исполнения, которые представляют
одну или несколько стадий (или фаз) выполнения действия.
Например, в прикладной программе может быть несколько потоков исполнения, реализую щих
три стадии обработки заказов. На первой стадии отдельные потоки исполнения
используются для того, чтобы проверить сведения о клиенте, наличие товара
на складе и его цену. По завершении этой стадии остаются два потока исполнения,
где на второй стадии вычисляется стоимость доставки и сумма соответствующего
налога, а на заключительной стадии подтверждается оплата и определяется ориентировочное
время доставки.

### Особенности реализации:
#### :warning: класс Phaser действует подобно классу CyclicBarrier, за исключением того, что он поддерживает несколько фаз.

- Класс "MyThread" реализует интерфейс Runnable.
- Конструктор класса принимает ссылку на объект класса Phaser и название потока, а также регистрирует входящий поток("сторону") методом register().
- Если заранее известно количество создаваемых потоков("сторон") можно вручную указать их в классе Main, передав в конструктор количество при создании объекта Phaser.
- :warning: Важно к переданному значению прибавить "1", т.к. поток Main тоже учитывается.
- В методе run() имитируем 3 действия(запуск 3-х фаз, внутри которых будет видно, какие потоки запускаются).
- Вызовом метода arriveAndAwaitAdvance(), дожидаемся достижения заполнения фазы, делаем паузу.
- Методом arriveAndDeregister() снимаем с регистрации поток ("сторону").
- В классе Main создаем объект класса Phaser.
- Создаем 3 потока на основе нашего класса MyThread и прередаем в конструктор ссылку на объект Phaser и имя потока.
- Методом getPhase() получаем текущую фазу.
- Методом arriveAndAwaitAdvance() дожидаемся достижения заполнения фазы.
- Выводим в консоль надпись, что данная фаза завершена.
- Методом arriveAndDeregister() снимаем с регистрации поток ("сторону").
- :warning: В классах Main и MyThread для наглядности выполняется по 3 действия. За счет того, что в обоих классах используются методы: arriveAndAwaitAdvance() и arriveAndDeregister() достигается синхронизация. После проверки isTerminated(), выводится надпись "Phase synchroniser completed".

**********************************************************************

:warning: **Не скупимся на звездочки на github, форкаем, даем советы по улучшению и оптимизации (всегда рад).**