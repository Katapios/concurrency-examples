# Ветка "override-onAdvavce"
## "Добиваемся выполнения заданного количество фаз, посредством расширения класса Phaser и переопределения метода onAdvance()"

### Что реалезовано в данной ветке:
В данном примере создается класс MyPhaser, расширяющий класс Phaser таким образом, чтобы
выполнять заданное количество фаз. С этой целью переопределяется метод
onAdvance(). По умолчанию в конструктор Phaser передается только количество потоков("сторон"),
и не передается второй параметр, определяющий сколько раз выполнится фаза.
Для того чтобы завершить работу синхронизатора фаз, метод onAdvance() должен возвратить
логическое значение true. А для того чтобы продолжить работу синхронизатора
фаз, метод onAdvance() должен возвратить логическое значение false.
В версии по умолчанию метод onAdvance() возвращает логическое значение
true , чтобы завершить работу синхронизатора фаз, если зарегистрированных
сторон больше нет. Как правило, переопределяемая версия данного метода должна
следовать этой практике.


### Особенности реализации:
#### :warning: Без проверки в методе onAdvance() "if (p == numPhases || regParties == 0)" фазы будут выполняться бесконечно.

- В классе MyPhaser, расширяющем функционал класса Phaser создается конструктор, где добавляется инициализация передаваемого параметра "количество выполняемых фаз".
- В переопределенном методе onAdvance() добиваемся возвращения логическое значение false до тех пор пока не завершатся все фазы, и только потом вернуть true и остановить выполнение.
- Класс "MyThread" реализует интерфейс Runnable.
- Конструктор класса принимает ссылку на объект класса Phaser и название потока, а также регистрирует входящий поток("сторону") методом register().
- Если заранее известно количество создаваемых потоков("сторон") можно вручную указать их в классе Main, передав в конструктор количество при создании объекта Phaser.
- :warning: Важно к переданному значению прибавить "1", т.к. поток Main тоже учитывается.
- В методе run() запускаем цикл до момента завершения выполнения фаз !isTerminated() - так достигаестя синхронизация.
- В классе Main создаем объект класса Phaser и прердаем в конструктор дополнительный параметр "количество фаз"
- Создаем 3 потока на основе нашего класса MyThread и прередаем в конструктор ссылку на объект Phaser и имя потока.
- Запускаем цикл до момента завершения выполнения фаз !isTerminated() - так достигаестя синхронизация.


**********************************************************************

:warning: **Не скупимся на звездочки на github, форкаем, даем советы по улучшению и оптимизации (всегда рад).**
